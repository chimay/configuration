# i3 config file (v4)
#
# Please see http://i3wm.org/docs/userguide.html for a complete reference!

# vim: set filetype=conf :

# {{{ Modificateur principal

# Mod1 = Alt
# Mod4 = Super
#
# On my box, Mod3 = menu key, configured with xmodmap
#
# I choose Mod3 because Mod1 and Mod4 are used in neovim & emacs
# bindings

set $mod Mod3

# }}}

# {{{ Autostart

exec ~/racine/automat/autostart.zsh

#exec_always lxterminal

# }}}

# Variables {{{1

# Pavé numérique {{{2

# set $pave0=KP_0
# set $pave1=KP_1
# set $pave2=KP_2
# set $pave3=KP_3
# set $pave4=KP_4
# set $pave5=KP_5
# set $pave6=KP_6
# set $pave7=KP_7
# set $pave8=KP_8
# set $pave9=KP_9

set $pave0=Mod2+KP_Insert
set $pave1=Mod2+KP_End
set $pave2=Mod2+KP_Down
set $pave3=Mod2+KP_Next
set $pave4=Mod2+KP_Left
set $pave5=Mod2+KP_Begin
set $pave6=Mod2+KP_Right
set $pave7=Mod2+KP_Home
set $pave8=Mod2+KP_Up
set $pave9=Mod2+KP_Prior

# }}}2

# Espaces de travail {{{2

set $espace0 "0 Terminal"
set $espace1 "1 Edition"
set $espace2 "2 Navigation"
set $espace3 "3 Bureautique"
set $espace4 "4 Litterature"
set $espace5 "5 Dessin"
set $espace6 "6 Musique"
set $espace7 "7 Cinema"
set $espace8 "8 Jeu"
set $espace9 "9 Graphique"

# }}}2

# }}}1

# Présentation {{{1

font pango:DejaVu Sans Mono 11 Bold

# class                 border  backgr. text    indicator

client.focused          #5B3C11 #5B3C11 #000000 #7b3c11
client.focused_inactive #5B3C11 #5B3C11 #000000 #7b3c11
client.unfocused        #121212 #000000 #5B3C11 #7b3c11
client.urgent           #2f343a #5B3C11 #000000 #7b3c11

#hide_edge_borders both

# }}}1

# Options {{{1

default_orientation auto

workspace_layout tabbed

workspace_auto_back_and_forth yes

# }}}1

# Propriétés automatiques des fenêtres {{{1

# Workspaces {{{2

# La flèche → est optionnelle

# assign [class="Lxterminal"] → $espace0
# assign [class="Xfce4-terminal"] → $espace0

assign [class="Lxterminal"] $espace0
assign [class="Xfce4-terminal"] $espace0

assign [class="Gvim"]    $espace1
assign [class="nvim-qt"] $espace1
assign [class="Emacs"]   $espace1

assign [class="qutebrowser"] $espace2
assign [class="Firefox"] $espace2

assign [class="GeoGebra"] $espace5

assign [class="com-sun-javaws-Main"] $espace9
assign [class="net-sourceforge-jnlp-runtime-Boot"] $espace9

# }}}2

# Mode flottant {{{2

for_window [class="Pavucontrol"] floating enable

#for_window [class="Firefox"] floating enable

for_window [class="MPlayer"] floating enable
for_window [class="Vlc"]     floating enable

for_window [class="XClock"]     floating enable

for_window [class="com-sun-javaws-Main"] floating enable
for_window [class="net-sourceforge-jnlp-runtime-Boot"] floating enable

# }}}2

# Scratchpad  {{{2

# Visibilité indépendante des workspaces

for_window [class="XClock"] move to scratchpad

# }}}2

# }}}

# Mode default {{{1

# {{{ Recharger, Relancer, Sortir

# reload the configuration file

bindsym $mod+Shift+C reload

# restart i3 inplace (preserves your layout/session, can be used to upgrade i3)

bindsym $mod+Shift+R restart

# exit i3 (logs you out of your X session)

bindsym $mod+Shift+X exit

# }}}

# Fenêtres {{{2

bindsym $mod+Left  focus left
bindsym $mod+Down  focus down
bindsym $mod+Up    focus up
bindsym $mod+Right focus right

bindsym $mod+Shift+Left  move left
bindsym $mod+Shift+Down  move down
bindsym $mod+Shift+Up    move up
bindsym $mod+Shift+Right move right

bindsym Shift+Q kill

# }}}2

# Hiérarchie {{{2

# Focus the parent container

bindsym $mod+BackSpace focus parent

# Focus the child container

bindsym $mod+Tab focus child

# }}}2

# Scission {{{2

bindsym $mod+h split h
bindsym $mod+v split v

# }}}2

# {{{ Layouts : default, stacking, tabbed

bindsym $mod+Mod1+f fullscreen

bindsym $mod+Mod1+d layout default
bindsym $mod+Mod1+s layout stacking
bindsym $mod+Mod1+t layout tabbed

# }}}

# Espaces de travail {{{2

bindsym $mod+Ctrl+Left workspace prev
bindsym $mod+Ctrl+Right workspace next

bindsym $mod+0 workspace $espace0
bindsym $mod+1 workspace $espace1
bindsym $mod+2 workspace $espace2
bindsym $mod+3 workspace $espace3
bindsym $mod+4 workspace $espace4
bindsym $mod+5 workspace $espace5
bindsym $mod+6 workspace $espace6
bindsym $mod+7 workspace $espace7
bindsym $mod+8 workspace $espace8
bindsym $mod+9 workspace $espace9

bindsym $mod+Shift+0 move workspace $espace0
bindsym $mod+Shift+1 move workspace $espace1
bindsym $mod+Shift+2 move workspace $espace2
bindsym $mod+Shift+3 move workspace $espace3
bindsym $mod+Shift+4 move workspace $espace4
bindsym $mod+Shift+5 move workspace $espace5
bindsym $mod+Shift+6 move workspace $espace6
bindsym $mod+Shift+7 move workspace $espace7
bindsym $mod+Shift+8 move workspace $espace8
bindsym $mod+Shift+9 move workspace $espace9

# Ne fonctionne pas ... pourquoi ?

# bindsym $mod+$pave0 workspace $espace0
# bindsym $mod+$pave1 workspace $espace1
# bindsym $mod+$pave2 workspace $espace2
# bindsym $mod+$pave3 workspace $espace3
# bindsym $mod+$pave4 workspace $espace4
# bindsym $mod+$pave5 workspace $espace5
# bindsym $mod+$pave6 workspace $espace6
# bindsym $mod+$pave7 workspace $espace7
# bindsym $mod+$pave8 workspace $espace8
# bindsym $mod+$pave9 workspace $espace9

# }}}2

# {{{ Scratchpad

# Visibilité indépendante des workspaces

bindsym $mod+o scratchpad show
bindsym $mod+equal scratchpad show

# }}}

# Système {{{2

bindsym $mod+r exec ~/racine/shell/run/lance-rofi.zsh

bindsym $mod+colon exec ~/racine/shell/run/lance-rofi.zsh

bindsym $mod+dollar exec lxterminal

bindsym $mod+z exec xset dpms force off

bindsym $mod+l exec i3lock --color "#754321"

# }}}2

# Applications {{{2

bindsym $mod+Ctrl+v exec ~/racine/shell/run/lance-gvim.zsh

bindsym $mod+Ctrl+n exec ~/racine/shell/run/lance-neovim-client.zsh
bindsym $mod+Ctrl+Shift+N exec ~/racine/shell/run/lance-neovim.zsh

bindsym $mod+Ctrl+e exec ~/racine/shell/run/lance-emacs-client.zsh
bindsym $mod+Ctrl+Shift+E exec ~/racine/shell/run/lance-emacs.zsh

bindsym $mod+Ctrl+q exec qutebrowser

bindsym $mod+Ctrl+f exec firefox

bindsym $mod+Ctrl+z exec zathura

bindsym $mod+Ctrl+g exec geogebra

bindsym $mod+Ctrl+m exec musescore

bindsym $mod+Ctrl+o exec libreoffice

bindsym $mod+Ctrl+Shift+F exec filezilla

bindsym $mod+Ctrl+Shift+V exec vlc

bindsym $mod+Ctrl+Shift+S exec mp3splt-gtk

# }}}2

# }}}1

# Mode préfixe {{{1

bindsym $mod+F12 mode "prefixe"

# Ne fonctionne pas ... pourquoi ?

mode "prefixe" {

# {{{ Recharger, Relancer, Sortir

# reload the configuration file

bindsym Shift+C reload

# restart i3 inplace (preserves your layout/session, can be used to upgrade i3)

bindsym Shift+R restart

# exit i3 (logs you out of your X session)

bindsym Shift+X exit

# }}}

# Fenêtres {{{2

bindsym Left  focus left
bindsym Down  focus down
bindsym Up    focus up
bindsym Right focus right

bindsym Shift+Left  move left
bindsym Shift+Down  move down
bindsym Shift+Up    move up
bindsym Shift+Right move right

bindsym Shift+Q kill

# }}}2

# Hiérarchie {{{2

# Focus the parent container

bindsym BackSpace focus parent

# Focus the child container

bindsym Tab focus child

# }}}2

# Scission {{{2

bindsym h split h
bindsym v split v

# }}}2

# {{{ Layouts : default, stacking, tabbed

bindsym Mod1+f fullscreen

bindsym Mod1+d layout default
bindsym Mod1+s layout stacking
bindsym Mod1+t layout tabbed

# }}}

# {{{ Fenêtres flottantes

# toggle tiling / floating

bindsym Shift+F floating toggle

# change focus between tiling / floating windows

bindsym Ctrl+f focus mode_toggle

# Use Mouse+$mod to drag floating windows to their wanted position

# Provoque une erreur ... pourquoi ?

#floating_modifier $mod

# }}}

# Espaces de travail {{{2

bindsym Ctrl+Left workspace prev
bindsym Ctrl+Right workspace next

bindsym 0 workspace $espace0
bindsym 1 workspace $espace1
bindsym 2 workspace $espace2
bindsym 3 workspace $espace3
bindsym 4 workspace $espace4
bindsym 5 workspace $espace5
bindsym 6 workspace $espace6
bindsym 7 workspace $espace7
bindsym 8 workspace $espace8
bindsym 9 workspace $espace9

bindsym Shift+0 move workspace $espace0
bindsym Shift+1 move workspace $espace1
bindsym Shift+2 move workspace $espace2
bindsym Shift+3 move workspace $espace3
bindsym Shift+4 move workspace $espace4
bindsym Shift+5 move workspace $espace5
bindsym Shift+6 move workspace $espace6
bindsym Shift+7 move workspace $espace7
bindsym Shift+8 move workspace $espace8
bindsym Shift+9 move workspace $espace9

# Ne fonctionne pas ... pourquoi ?

# bindsym $pave0 workspace $espace0
# bindsym $pave1 workspace $espace1
# bindsym $pave2 workspace $espace2
# bindsym $pave3 workspace $espace3
# bindsym $pave4 workspace $espace4
# bindsym $pave5 workspace $espace5
# bindsym $pave6 workspace $espace6
# bindsym $pave7 workspace $espace7
# bindsym $pave8 workspace $espace8
# bindsym $pave9 workspace $espace9

# bindsym Shift+$pave0 move workspace $espace0
# bindsym Shift+$pave1 move workspace $espace1
# bindsym Shift+$pave2 move workspace $espace2
# bindsym Shift+$pave3 move workspace $espace3
# bindsym Shift+$pave4 move workspace $espace4
# bindsym Shift+$pave5 move workspace $espace5
# bindsym Shift+$pave6 move workspace $espace6
# bindsym Shift+$pave7 move workspace $espace7
# bindsym Shift+$pave8 move workspace $espace8
# bindsym Shift+$pave9 move workspace $espace9

# }}}2

# {{{ Scratchpad

# Visibilité indépendante des workspaces

bindsym o scratchpad show
bindsym equal scratchpad show

# }}}

# Système {{{2

bindsym r exec ~/racine/shell/run/lance-rofi.zsh

bindsym colon exec ~/racine/shell/run/lance-rofi.zsh

bindsym dollar exec lxterminal

bindsym z exec xset dpms force off

bindsym l exec i3lock --color "#754321"

# }}}2

# Applications {{{2

bindsym $mod+v exec ~/racine/shell/run/lance-gvim.zsh

bindsym $mod+n exec ~/racine/shell/run/lance-neovim-client.zsh
bindsym $mod+Shift+N exec ~/racine/shell/run/lance-neovim.zsh

bindsym $mod+e exec ~/racine/shell/run/lance-emacs-client.zsh
bindsym $mod+Shift+E exec ~/racine/shell/run/lance-emacs.zsh

bindsym $mod+q exec qutebrowser

bindsym $mod+f exec firefox

bindsym $mod+z exec zathura

bindsym $mod+g exec geogebra

bindsym $mod+m exec musescore

bindsym $mod+o exec libreoffice

bindsym $mod+Shift+F exec filezilla

bindsym $mod+Shift+V exec vlc

bindsym $mod+Shift+S exec mp3splt-gtk

# }}}2

# Back to normal {{{2

bindsym Return mode "default"
bindsym Escape mode "default"

# }}}2

}

# }}}1

# {{{ Mode resize

# resize window (you can also use the mouse for that)

bindsym Mod4+F12 mode "resize"

mode "resize" {

# These bindings trigger as soon as you enter the resize mode

# They resize the border in the direction you pressed, e.g.
# when pressing left, the window is resized so that it has
# more space on its left

bindsym j resize shrink left 10 px or 10 ppt
bindsym Shift+J resize grow   left 10 px or 10 ppt

bindsym k resize shrink down 10 px or 10 ppt
bindsym Shift+K resize grow   down 10 px or 10 ppt

bindsym l resize shrink up 10 px or 10 ppt
bindsym Shift+L resize grow   up 10 px or 10 ppt

bindsym m resize shrink right 10 px or 10 ppt
bindsym Shift+M resize grow   right 10 px or 10 ppt

# same bindings, but for the arrow keys

bindsym Left resize shrink left 10 px or 10 ppt
bindsym Shift+Left resize grow   left 10 px or 10 ppt

bindsym Down resize shrink down 10 px or 10 ppt
bindsym Shift+Down resize grow   down 10 px or 10 ppt

bindsym Up resize shrink up 10 px or 10 ppt
bindsym Shift+Up resize grow   up 10 px or 10 ppt

bindsym Right resize shrink right 10 px or 10 ppt
bindsym Shift+Right resize grow   right 10 px or 10 ppt

# Back to normal: Enter or Escape {{{2

bindsym Return mode "default"
bindsym Escape mode "default"

# }}}2

}

# }}}

# Mode multimedia {{{1

bindsym $mod+F9 mode "multimedia"

mode "multimedia" {

# Mixer {{{2

bindsym M         exec pavucontrol

bindsym F11        exec amixer -c 0 -- set Master 2dB+
bindsym F11        exec amixer -c 0 -- set Master 2dB-
bindsym $mod+F10   exec amixer -c 0 -- set Master 4dB+
bindsym $mod+F11   exec amixer -c 0 -- set Master 4dB-

# bindsym F11      exec pamixer --decrease 5
# bindsym F11      exec pamixer --increase 5
# bindsym $mod+F10 exec pamixer --decrease 10
# bindsym $mod+F11 exec pamixer --increase 10

# }}}2

# MPC {{{2

bindsym $mod+F9        exec mpc --no-status toggle

bindsym BackSpace exec mpc --no-status seek 0:0

bindsym p         exec mpc prev
bindsym n         exec mpc next

bindsym f         exec mpc seek +0:15
bindsym b         exec mpc seek -0:15

bindsym Shift+F   exec mpc seek +1:00
bindsym Shift+B   exec mpc seek -1:00

# }}}2

# CMUS {{{2

bindsym F9        exec cmus-remote -C player-pause

bindsym space     exec cmus-remote -C 'seek 0'

bindsym left      exec cmus-remote -C player-prev
bindsym right     exec cmus-remote -C player-next

# }}}2

# Back to normal {{{2

bindsym Return mode "default"
bindsym Escape mode "default"

# }}}2

}

# }}}1

# {{{ Barre de status

# Workspaces, infos, tray, ...

# Start i3bar to display a workspace bar (plus the system information i3status
# finds out, if available)

bar {

	i3bar_command /usr/bin/i3bar
	status_command i3status -c ~/racine/config/windenv/i3/i3status.conf

	mode dock
	position bottom

	workspace_buttons yes

	font pango:DejaVu Sans Mono 11 Bold

	colors {
		background #000000
		statusline #5B3C11
		separator #434343

		# class            border  backgr. text

		focused_workspace  #5B3C11 #5B3C11 #000000
		active_workspace   #5B3C11 #000000 #5B3C11
		inactive_workspace #121212 #000000 #5B3C11
		urgent_workspace   #2f343a #000000 #88421D
	}

}

# }}}
